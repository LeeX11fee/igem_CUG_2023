<style>
  nav {
    font-size: 20px;
    font-weight: 600;
  }

  nav .nav-item {
    margin-left: 0.3em;
    position: relative;
  }

  nav .nav-link:before {
    content: "";
    margin-right: 3px;
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 7px 0px 7px 10px;
    border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #f3d258;
    opacity: 0;
    display: inline-block;
    position: relative;
    transition: all ease-in-out 0.1s;
  }

  nav .nav-link:hover:before {
    opacity: 1;
  }

  nav .nav-link:focus:before {
    opacity: 1;
  }

  nav .nav-link:active:before {
    opacity: 1;
  }

  nav .nav-link[aria-expanded="true"]:before {
    opacity: 1;
  }

  nav .nav-link {
    color: #ffffff;
    opacity: 0.6;
  }

  nav .nav-link:hover {
    opacity: 1;
  }

  nav .nav-link:focus {
    opacity: 1;
  }

  nav .nav-link:active {
    opacity: 1;
    transform: scale(0.95);
  }

  nav .nav-link[aria-expanded="true"] {
    opacity: 1;
  }

  nav .dropdown-item {
    font-size: 18px;
    width: 100%;
  }

  nav .dropdown-item:active {
    color: #000000;
    transform: scale(0.95);
  }

  nav .dropdown-item:before {
    content: "";
    margin-right: 0.4em;
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 7px 0px 7px 10px;
    border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #f3d258;
    opacity: 0;
    display: inline-block;
    position: relative;
  }

  nav .dropdown-item:hover:before {
    opacity: 1;
  }

  nav .dropdown-item:focus:before {
    opacity: 1;
  }

  nav .dropdown-item:active:before {
    opacity: 1;
  }

  nav .dropdown-item:after {
    content: "";
    margin-left: 0.4em;
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 7px 10px 7px 0px;
    border-color: rgba(0, 0, 0, 0) #f3d258 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);
    opacity: 0;
    display: inline-block;
    position: relative;
  }

  nav .dropdown-item:hover:after {
    opacity: 1;
  }

  nav .dropdown-item:focus:after {
    opacity: 1;
  }

  nav .dropdown-item:active:after {
    opacity: 1;
  }

  @media screen and (min-width: 992px) {
    nav .dropdown:hover .dropdown-menu {
      display: block;
    }
  }

  nav .dropdown-menu {
    text-align: center;
    background-color: #ffffff;
    animation-name: anime-navbar;
    animation-timing-function: ease-in-out;
    animation-duration: 0.2s;
    animation-fill-mode: both;
  }

  nav .dropdown-item:hover {
    background-color: rgba(255, 255, 255, 1)
  }

  nav .dropdown-item:focus {
    background-color: rgba(255, 255, 255, 1)
  }

  @keyframes anime-navbar {
    0% {
      transform: translateX(-1rem);
      opacity: 0;
    }

    100% {
      transform: translateX(0rem);
      opacity: 1;
    }

    0% {
      transform: translateX(-1rem);
      opacity: 0;
    }
  }

  .scroll-hide {
    transform: translateY(-100%);
    transition: all 0.5s ease-in-out;
  }

  .scroll-show {
    transform: translateY(0);
    transition: all 0.5s ease-in-out;
  }

  .sub-dropdown {
    background-color: #ffffff;
    color: #000000;
    text-decoration: none;
    font-size: 18px;
    position: relative;
    top: 0px;
    left: 100%;
  }

  li:hover>a~.sub-dropdown {
    display: block;
  }

  .dropdown-menu li:nth-child(1) .sub-dropdown {
    top: 9px;
  }
  .dropdown-menu li:nth-child(2) .sub-dropdown {
    top: 44px;
  }
  .dropdown-menu li:nth-child(3) .sub-dropdown {
    top: 79px;
  }
  .dropdown-menu li:nth-child(4) .sub-dropdown {
    top: 114px;
  }
  .dropdown-menu li:nth-child(5) .sub-dropdown {
    top: 149px;
  }
  .dropdown-menu li:nth-child(6) .sub-dropdown {
    top: 184px;
  }
  .dropdown-menu li:nth-child(7) .sub-dropdown {
    top: 219px;
  }
  .dropdown-menu li:nth-child(8) .sub-dropdown {
    top: 254px;
  }
  .dropdown-menu li:nth-child(9) .sub-dropdown {
    top: 289px;
  }
  .dropdown-menu li:nth-child(10) .sub-dropdown {
    top: 314px;
  }
</style>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top scroll-show" id="nav-hide">
  <div class="container">

    <!---- TEAM NAME ---->
    <a class="navbar-brand" href="{{ url_for('index') }}">
      <img src="https://static.igem.wiki/teams/4242/wiki/logo-title.png" width="180" height="100%">
    </a>

    <!---- SMALL SCREEN MENU ICON ---->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto left-aligned">

        <li class="nav-item">
            <a class="nav-link" href="{{ url_for('index') }}">Home</a>
        </li>

        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span>Team</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="{{ url_for('pages', page='team') }}">Team</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='attributions') }}">Attributions</a>
            </div>
        </li>
    
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span>Project</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="{{ url_for('pages', page='communication') }}">Communication</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='contribution') }}">Contribution</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='description') }}">Description</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='engineering') }}">Engineering</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='experiments') }}">Experiments</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='implementation') }}">Implementation</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='notebook') }}">Notebook</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='partnership') }}">Partnership</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='proof-of-concept') }}">Proof of Concept</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='results') }}">Results</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='safety') }}">Safety</a>
            </div>
        </li>


        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span>Parts</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="{{ url_for('pages', page='part-collection') }}">Part Collection</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='parts') }}">Parts</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='improve') }}">Improve</a>
            </div>
        </li>


        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span>HP</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="{{ url_for('pages', page='collaborations') }}">Collaborations</a>
            </div>
        </li>

        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span>Notebook</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="{{ url_for('pages', page='notebook') }}">Notebook</a>
                <a class="dropdown-item" href="{{ url_for('pages', page='notebook') }}">Protocols</a>
            </div>
        </li>


      </ul>
    </div>
  </div>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", function () {

    nav_hide = document.getElementById("nav-hide")

    if (nav_hide) {
      var last_scroll_top = 0;
      window.addEventListener("scroll", function () {
        let scroll_top = window.scrollY;

        if (scroll_top > last_scroll_top && scroll_top > 200) {
          nav_hide.classList.remove("scroll-show");
          nav_hide.classList.add("scroll-hide");
        }
        else {
          nav_hide.classList.remove("scroll-hide");
          nav_hide.classList.add("scroll-show");
        }


        last_scroll_top = scroll_top;
      });
    }
  });


  var subDrops = document.getElementsByClassName("sub-dropdown");

  function subHide() {
    
    for(var i = 0; i < subDrops.length; i++){
      subDrops[i].style.display = "none";
    }
  }

  subHide();

  
  for(var i = 0; i < subDrops.length; i++) {
    subDrops[i].parentElement.addEventListener("mouseenter", function(){
      this.children[1].style.display = "block";
    });
    subDrops[i].parentElement.addEventListener("mouseleave", function(){
      this.children[1].style.display = "none";
    });
  }

</script>
